<script>
    
    function getNode(node) {
		return document.querySelector(node)
	}

	function getDelayNodePr(selector) {			

		return new Promise((res, rej) => {

			function handler() {
				const node = getNode(selector)
				if(!node) setTimeout(handler, 200)
				else res(node)
			}

			handler()
		})
	}

	function getTildaNode([value, type], rec) {
		switch(type) {
			case 'text':
				return getNode(`#rec${rec} .tn-elem[data-elem-id="${value}"] .tn-atom`)
				break
			case 'image':
				return getNode(`#rec${rec} .tn-elem[data-elem-id="${value}"] .tn-atom .tn-atom__img`)
				break
			case 'gallery':
				return getNode(`#rec${rec} .tn-elem[data-elem-id="${value}"] .tn-atom__gallery .t-slds`)
				break
			default:
				return getNode(`#rec${rec} .tn-elem[data-elem-id="${value}"]`)
				break
		}
	}
    
</script>
